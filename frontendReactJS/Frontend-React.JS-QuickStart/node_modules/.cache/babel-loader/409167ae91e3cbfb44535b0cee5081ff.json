{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dangk\\\\Documents\\\\webFullstack\\\\frontendReactJS\\\\Frontend-React.JS-QuickStart\\\\src\\\\components\\\\Navigator.js\";\nimport React, { Component, Fragment } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { FormattedMessage } from 'react-intl';\nimport { connect } from 'react-redux';\nimport './Navigator.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass MenuGroup extends Component {\n  render() {\n    const {\n      name,\n      children\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"li\", {\n      className: \"menu-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"menu-group-name\",\n        children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n          id: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 15,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"menu-list list-unstyled\",\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nclass Menu extends Component {\n  render() {\n    const {\n      name,\n      active,\n      link,\n      children,\n      onClick,\n      hasSubMenu,\n      onLinkClick\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"li\", {\n      className: \"menu\" + (hasSubMenu ? \" has-sub-menu\" : \"\") + \"\" + (active ? \" active\" : \"\"),\n      children: hasSubMenu ? /*#__PURE__*/_jsxDEV(Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          \"data-toggle\": \"collapse\",\n          className: \"menu-link collapsed\",\n          onClick: onClick,\n          \"aria-expanded\": \"false\",\n          children: [/*#__PURE__*/_jsxDEV(FormattedMessage, {\n            id: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"icon-right\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"far fa-angle-right\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"sub-menu-list list-unstyled\",\n            children: children\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(Link, {\n        to: link,\n        className: \"menu-link\",\n        onClick: onLinkClick,\n        children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n          id: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nclass SubMenu extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.getItemClass = path => {\n      return this.props.location.pathname === path ? \"active\" : \"\";\n    };\n  }\n\n  render() {\n    const {\n      name,\n      link,\n      onLinkClick\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"li\", {\n      className: \"sub-menu \" + this.getItemClass(link),\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: link,\n        className: \"sub-menu-link\",\n        onClick: onLinkClick,\n        children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n          id: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst MenuGroupWithRouter = withRouter(MenuGroup);\n_c = MenuGroupWithRouter;\nconst MenuWithRouter = withRouter(Menu);\n_c2 = MenuWithRouter;\nconst SubMenuWithRouter = withRouter(SubMenu);\n_c3 = SubMenuWithRouter;\n\nconst withRouterInnerRef = WrappedComponent => {\n  class InnerComponentWithRef extends React.Component {\n    render() {\n      const {\n        forwardRef,\n        ...rest\n      } = this.props;\n      return /*#__PURE__*/_jsxDEV(WrappedComponent, { ...rest,\n        ref: forwardRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 20\n      }, this);\n    }\n\n  }\n\n  const ComponentWithRef = withRouter(InnerComponentWithRef, {\n    withRef: true\n  });\n  return /*#__PURE__*/React.forwardRef((props, ref) => {\n    return /*#__PURE__*/_jsxDEV(ComponentWithRef, { ...props,\n      forwardRef: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 16\n    }, this);\n  });\n};\n\nclass Navigator extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      expandedMenu: {}\n    };\n\n    this.toggle = (groupIndex, menuIndex) => {\n      const expandedMenu = {};\n      const needExpand = !(this.state.expandedMenu[groupIndex + '_' + menuIndex] === true);\n\n      if (needExpand) {\n        expandedMenu[groupIndex + '_' + menuIndex] = true;\n      }\n\n      this.setState({\n        expandedMenu: expandedMenu\n      });\n    };\n\n    this.isMenuHasSubMenuActive = (location, subMenus, link) => {\n      if (subMenus) {\n        if (subMenus.length === 0) {\n          return false;\n        }\n\n        const currentPath = location.pathname;\n\n        for (let i = 0; i < subMenus.length; i++) {\n          const subMenu = subMenus[i];\n\n          if (subMenu.link === currentPath) {\n            return true;\n          }\n        }\n      }\n\n      if (link) {\n        return this.props.location.pathname === link;\n      }\n\n      return false;\n    };\n\n    this.checkActiveMenu = () => {\n      const {\n        menus,\n        location\n      } = this.props;\n\n      outerLoop: for (let i = 0; i < menus.length; i++) {\n        const group = menus[i];\n\n        if (group.menus && group.menus.length > 0) {\n          for (let j = 0; j < group.menus.length; j++) {\n            const menu = group.menus[j];\n\n            if (menu.subMenus && menu.subMenus.length > 0) {\n              if (this.isMenuHasSubMenuActive(location, menu.subMenus, null)) {\n                const key = i + '_' + j;\n                this.setState({\n                  expandedMenu: {\n                    [key]: true\n                  }\n                });\n                break outerLoop;\n              }\n            }\n          }\n        }\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.checkActiveMenu();\n  }\n\n  // componentWillReceiveProps(nextProps, prevState) {\n  //     const { location, setAccountMenuPath, setSettingMenuPath } = this.props;\n  //     const { location: nextLocation } = nextProps;\n  //     if (location !== nextLocation) {\n  //         let pathname = nextLocation && nextLocation.pathname;\n  //         if ((pathname.startsWith('/account/') || pathname.startsWith('/fds/account/'))) {\n  //             setAccountMenuPath(pathname);\n  //         }\n  //         if (pathname.startsWith('/settings/')) {\n  //             setSettingMenuPath(pathname);\n  //         };\n  //     };\n  // };\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      location\n    } = this.props;\n    const {\n      location: prevLocation\n    } = prevProps;\n\n    if (location !== prevLocation) {\n      this.checkActiveMenu();\n    }\n\n    ;\n  }\n\n  render() {\n    const {\n      menus,\n      location,\n      onLinkClick\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"navigator-menu list-unstyled\",\n        children: menus.map((group, groupIndex) => {\n          return /*#__PURE__*/_jsxDEV(Fragment, {\n            children: /*#__PURE__*/_jsxDEV(MenuGroupWithRouter, {\n              name: group.name,\n              children: group.menus ? group.menus.map((menu, menuIndex) => {\n                const isMenuHasSubMenuActive = this.isMenuHasSubMenuActive(location, menu.subMenus, menu.link);\n                const isSubMenuOpen = this.state.expandedMenu[groupIndex + '_' + menuIndex] === true;\n                return /*#__PURE__*/_jsxDEV(MenuWithRouter, {\n                  active: isMenuHasSubMenuActive,\n                  name: menu.name,\n                  link: menu.link,\n                  hasSubMenu: menu.subMenus,\n                  isOpen: isSubMenuOpen,\n                  onClick: () => this.toggle(groupIndex, menuIndex),\n                  onLinkClick: onLinkClick,\n                  children: menu.subMenus && menu.subMenus.map((subMenu, subMenuIndex) => /*#__PURE__*/_jsxDEV(SubMenuWithRouter, {\n                    name: subMenu.name,\n                    link: subMenu.link,\n                    onClick: this.closeOtherExpand,\n                    onLinkClick: onLinkClick\n                  }, subMenuIndex, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 61\n                  }, this))\n                }, menuIndex, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 53\n                }, this);\n              }) : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 37\n            }, this)\n          }, groupIndex, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 33\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {};\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {};\n};\n\nexport default withRouterInnerRef(connect(mapStateToProps, mapDispatchToProps)(Navigator));\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"MenuGroupWithRouter\");\n$RefreshReg$(_c2, \"MenuWithRouter\");\n$RefreshReg$(_c3, \"SubMenuWithRouter\");","map":{"version":3,"sources":["C:/Users/dangk/Documents/webFullstack/frontendReactJS/Frontend-React.JS-QuickStart/src/components/Navigator.js"],"names":["React","Component","Fragment","Link","withRouter","FormattedMessage","connect","MenuGroup","render","name","children","props","Menu","active","link","onClick","hasSubMenu","onLinkClick","SubMenu","getItemClass","path","location","pathname","MenuGroupWithRouter","MenuWithRouter","SubMenuWithRouter","withRouterInnerRef","WrappedComponent","InnerComponentWithRef","forwardRef","rest","ComponentWithRef","withRef","ref","Navigator","state","expandedMenu","toggle","groupIndex","menuIndex","needExpand","setState","isMenuHasSubMenuActive","subMenus","length","currentPath","i","subMenu","checkActiveMenu","menus","outerLoop","group","j","menu","key","componentDidMount","componentDidUpdate","prevProps","prevState","prevLocation","map","isSubMenuOpen","subMenuIndex","closeOtherExpand","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\n\r\nimport './Navigator.scss';\r\n\r\nclass MenuGroup extends Component {\r\n\r\n    render() {\r\n        const { name, children } = this.props;\r\n        return (\r\n            <li className=\"menu-group\">\r\n                <div className=\"menu-group-name\">\r\n                    <FormattedMessage id={name} />\r\n                </div>\r\n                <ul className=\"menu-list list-unstyled\">\r\n                    {children}\r\n                </ul>\r\n            </li>\r\n        );\r\n    }\r\n}\r\n\r\nclass Menu extends Component {\r\n\r\n    render() {\r\n        const { name, active, link, children, onClick, hasSubMenu, onLinkClick } = this.props;\r\n        return (\r\n            <li className={\"menu\" + (hasSubMenu ? \" has-sub-menu\" : \"\") + (\"\") + (active ? \" active\" : \"\")}>\r\n                {hasSubMenu ? (\r\n                    <Fragment>\r\n                        <span\r\n                            data-toggle=\"collapse\"\r\n                            className={\"menu-link collapsed\"}\r\n                            onClick={onClick}\r\n                            aria-expanded={\"false\"}\r\n                        >\r\n                            <FormattedMessage id={name} />\r\n                            <div className=\"icon-right\">\r\n                                <i className={\"far fa-angle-right\"} />\r\n                            </div>\r\n                        </span>\r\n                        <div>\r\n                            <ul className=\"sub-menu-list list-unstyled\">\r\n                                {children}\r\n                            </ul>\r\n                        </div>\r\n                    </Fragment>\r\n                ) : (\r\n                        <Link to={link} className=\"menu-link\" onClick={onLinkClick}>\r\n                            <FormattedMessage id={name} />\r\n                        </Link>\r\n                    )}\r\n            </li>\r\n        );\r\n    }\r\n}\r\n\r\nclass SubMenu extends Component {\r\n\r\n    getItemClass = path => {\r\n        return this.props.location.pathname === path ? \"active\" : \"\";\r\n    };\r\n\r\n    render() {\r\n        const { name, link, onLinkClick } = this.props;\r\n        return (\r\n            <li className={\"sub-menu \" + this.getItemClass(link)}>\r\n                <Link to={link} className=\"sub-menu-link\" onClick={onLinkClick}>\r\n                    <FormattedMessage id={name} />\r\n                </Link>\r\n            </li>\r\n        );\r\n    }\r\n}\r\n\r\nconst MenuGroupWithRouter = withRouter(MenuGroup);\r\nconst MenuWithRouter = withRouter(Menu);\r\nconst SubMenuWithRouter = withRouter(SubMenu);\r\n\r\nconst withRouterInnerRef = (WrappedComponent) => {\r\n\r\n    class InnerComponentWithRef extends React.Component {\r\n        render() {\r\n            const { forwardRef, ...rest } = this.props;\r\n            return <WrappedComponent {...rest} ref={forwardRef} />;\r\n        }\r\n    }\r\n\r\n    const ComponentWithRef = withRouter(InnerComponentWithRef, { withRef: true });\r\n\r\n    return React.forwardRef((props, ref) => {\r\n        return <ComponentWithRef {...props} forwardRef={ref} />;\r\n    });\r\n};\r\n\r\nclass Navigator extends Component {\r\n    state = {\r\n        expandedMenu: {}\r\n    };\r\n\r\n    toggle = (groupIndex, menuIndex) => {\r\n        const expandedMenu = {};\r\n        const needExpand = !(this.state.expandedMenu[groupIndex + '_' + menuIndex] === true);\r\n        if (needExpand) {\r\n            expandedMenu[groupIndex + '_' + menuIndex] = true;\r\n        }\r\n\r\n        this.setState({\r\n            expandedMenu: expandedMenu\r\n        });\r\n    };\r\n\r\n    isMenuHasSubMenuActive = (location, subMenus, link) => {\r\n        if (subMenus) {\r\n            if (subMenus.length === 0) {\r\n                return false;\r\n            }\r\n\r\n            const currentPath = location.pathname;\r\n            for (let i = 0; i < subMenus.length; i++) {\r\n                const subMenu = subMenus[i];\r\n                if (subMenu.link === currentPath) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (link) {\r\n            return this.props.location.pathname === link;\r\n        }\r\n\r\n        return false;\r\n    };\r\n\r\n    checkActiveMenu = () => {\r\n        const { menus, location } = this.props;\r\n        outerLoop:\r\n        for (let i = 0; i < menus.length; i++) {\r\n            const group = menus[i];\r\n            if (group.menus && group.menus.length > 0) {\r\n                for (let j = 0; j < group.menus.length; j++) {\r\n                    const menu = group.menus[j];\r\n                    if (menu.subMenus && menu.subMenus.length > 0) {\r\n                        if (this.isMenuHasSubMenuActive(location, menu.subMenus, null)) {\r\n                            const key = i + '_' + j;\r\n                            this.setState({\r\n                                expandedMenu: {\r\n                                    [key]: true\r\n                                }\r\n                            });\r\n                            break outerLoop;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.checkActiveMenu();\r\n    };\r\n\r\n    // componentWillReceiveProps(nextProps, prevState) {\r\n    //     const { location, setAccountMenuPath, setSettingMenuPath } = this.props;\r\n    //     const { location: nextLocation } = nextProps;\r\n    //     if (location !== nextLocation) {\r\n    //         let pathname = nextLocation && nextLocation.pathname;\r\n    //         if ((pathname.startsWith('/account/') || pathname.startsWith('/fds/account/'))) {\r\n    //             setAccountMenuPath(pathname);\r\n    //         }\r\n    //         if (pathname.startsWith('/settings/')) {\r\n    //             setSettingMenuPath(pathname);\r\n    //         };\r\n    //     };\r\n    // };\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        const { location } = this.props;\r\n        const { location: prevLocation } = prevProps;\r\n        if (location !== prevLocation) {\r\n            this.checkActiveMenu();\r\n        };\r\n    };\r\n\r\n    render() {\r\n        const { menus, location, onLinkClick } = this.props;\r\n        return (\r\n            <Fragment>\r\n                <ul className=\"navigator-menu list-unstyled\">\r\n                    {\r\n                        menus.map((group, groupIndex) => {\r\n                            return (\r\n                                <Fragment key={groupIndex}>\r\n                                    <MenuGroupWithRouter name={group.name}>\r\n                                        {group.menus ? (\r\n                                            group.menus.map((menu, menuIndex) => {\r\n                                                const isMenuHasSubMenuActive = this.isMenuHasSubMenuActive(location, menu.subMenus, menu.link);\r\n                                                const isSubMenuOpen = this.state.expandedMenu[groupIndex + '_' + menuIndex] === true;\r\n                                                return (\r\n                                                    <MenuWithRouter\r\n                                                        key={menuIndex}\r\n                                                        active={isMenuHasSubMenuActive}\r\n                                                        name={menu.name}\r\n                                                        link={menu.link}\r\n                                                        hasSubMenu={menu.subMenus}\r\n                                                        isOpen={isSubMenuOpen}\r\n                                                        onClick={() => this.toggle(groupIndex, menuIndex)}\r\n                                                        onLinkClick={onLinkClick}\r\n                                                    >\r\n                                                        {menu.subMenus && menu.subMenus.map((subMenu, subMenuIndex) => (\r\n                                                            <SubMenuWithRouter\r\n                                                                key={subMenuIndex}\r\n                                                                name={subMenu.name}\r\n                                                                link={subMenu.link}\r\n                                                                onClick={this.closeOtherExpand}\r\n                                                                onLinkClick={onLinkClick}\r\n                                                            />\r\n                                                        ))}\r\n                                                    </MenuWithRouter>\r\n                                                );\r\n                                            })\r\n                                        ) : null}\r\n                                    </MenuGroupWithRouter>\r\n                                </Fragment>\r\n                            );\r\n                        })\r\n                    }\r\n                </ul>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    }\r\n}\r\n\r\nexport default withRouterInnerRef(connect(mapStateToProps, mapDispatchToProps)(Navigator));\r\n"]},"metadata":{},"sourceType":"module"}